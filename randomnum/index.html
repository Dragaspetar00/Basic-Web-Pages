<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Rastgele Sayı Üretici | Hızlı, Mobil ve SEO Uyumlu</title>
  <meta name="description" content="Rastgele sayı üretici: Hızlı, mobil uyumlu, kriptografik güvenli. Tekrarsız seçim, tam sayı/ondalık, kopyala ve paylaş özellikleriyle.">
  <meta name="robots" content="index,follow" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Rastgele Sayı Üretici" />
  <meta property="og:description" content="Hızlı, mobil ve SEO uyumlu rastgele sayı üretici. Tekrarsız, tam sayı/ondalık desteği.">
  <meta property="og:site_name" content="Rastgele Sayı Üretici" />
  <meta name="twitter:card" content="summary" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0b0f14">
  <link rel="icon" href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" x2="1" y1="0" y2="1"><stop offset="0" stop-color="%238b5cf6"/><stop offset="1" stop-color="%2306b6d4"/></linearGradient></defs><rect rx="12" ry="12" width="64" height="64" fill="url(%23g)"/><circle cx="20" cy="20" r="5" fill="white"/><circle cx="44" cy="44" r="5" fill="white"/><circle cx="20" cy="44" r="5" fill="white"/><circle cx="44" cy="20" r="5" fill="white"/></svg>' />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Rastgele Sayı Üretici",
    "applicationCategory": "Utility",
    "operatingSystem": "Any",
    "inLanguage": "tr-TR",
    "description": "Hızlı, mobil ve SEO uyumlu rastgele sayı üretici. Tekrarsız, tam sayı/ondalık desteği."
  }
  </script>

  <style>
    :root {
      --radius: 14px;
      --pad: 20px;
      --shadow: 0 10px 30px rgba(0,0,0,.25);
      --grad: linear-gradient(135deg,#8b5cf6, #06b6d4);
      --focus: 0 0 0 3px rgba(139,92,246,.35), 0 0 0 6px rgba(6,182,212,.25);
    }
    :root { color-scheme: dark; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 10% 0%, rgba(139,92,246,.2), transparent 60%),
                  radial-gradient(1200px 600px at 90% 100%, rgba(6,182,212,.18), transparent 60%),
                  #0b0f14;
      color: #e6edf3;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    [data-theme="light"] body {
      background: radial-gradient(1200px 600px at 10% 0%, rgba(139,92,246,.12), transparent 60%),
                  radial-gradient(1200px 600px at 90% 100%, rgba(6,182,212,.12), transparent 60%),
                  #f7fafc;
      color: #0b1220;
    }

    .wrap {
      max-width: 980px;
      margin: 0 auto;
      padding: 32px 16px 60px;
    }
    header {
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
      margin-bottom: 24px;
    }
    .brand {
      display: flex; align-items: center; gap: 12px;
    }
    .logo {
      width: 40px; height: 40px; border-radius: 10px; background: var(--grad);
      box-shadow: 0 6px 20px rgba(139,92,246,.35), inset 0 0 20px rgba(255,255,255,.2);
    }
    h1 { font-size: 1.6rem; margin: 0; letter-spacing: .2px; }
    .sub { color: #9aa4b2; font-size: .95rem; margin-top: 4px; }

    .panel {
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      overflow: hidden;
    }
    [data-theme="light"] .panel {
      background: rgba(255,255,255,.7);
      border-color: rgba(0,0,0,.08);
    }

    .panel-head {
      display: flex; align-items: center; justify-content: space-between; padding: 16px 18px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    [data-theme="light"] .panel-head {
      border-bottom-color: rgba(0,0,0,.06);
    }
    .theme-toggle {
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      color: inherit; border-radius: 999px; padding: 8px 12px; cursor: pointer;
    }
    [data-theme="light"] .theme-toggle {
      background: rgba(255,255,255, .9);
      border-color: rgba(0,0,0,.08);
    }
    .theme-toggle:focus-visible { outline: none; box-shadow: var(--focus); }

    form { padding: 18px; }
    .grid {
      display: grid; gap: 12px;
      grid-template-columns: 1fr;
    }
    @media (min-width: 700px) {
      .grid.cols-3 { grid-template-columns: repeat(3,1fr); }
      .grid.cols-4 { grid-template-columns: repeat(4,1fr); }
    }

    .field { display: grid; gap: 6px; }
    .label { font-size: .9rem; color: #9aa4b2; }
    input[type="number"] {
      width: 100%; padding: 12px 14px; border-radius: 10px; border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06); color: inherit; font-size: 1rem;
      transition: border-color .2s, background .2s, transform .06s;
      outline: none;
    }
    input[type="number"]:focus { border-color: rgba(139,92,246,.6); box-shadow: var(--focus); background: rgba(255,255,255,.10); }
    input[type="number"]:active { transform: translateY(1px); }
    [data-theme="light"] input[type="number"] { background: rgba(255,255,255,.9); border-color: rgba(0,0,0,.12); }

    .switch {
      display: inline-flex; align-items: center; gap: 10px; user-select: none;
    }
    .switch input { position: absolute; opacity: 0; pointer-events: none; }
    .track {
      width: 48px; height: 28px; border-radius: 999px; padding: 2px;
      background: rgba(255,255,255,.14); border: 1px solid rgba(255,255,255,.18);
      display: inline-flex; align-items: center;
    }
    [data-theme="light"] .track { background: rgba(0,0,0,.08); border-color: rgba(0,0,0,.12); }
    .thumb {
      width: 22px; height: 22px; border-radius: 50%; background: white; transform: translateX(0);
      transition: transform .2s ease;
    }
    .switch input:checked + .track .thumb { transform: translateX(20px); }
    .hint { color: #93a0af; font-size: .85rem; }

    .actions {
      display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px;
    }
    .btn {
      display: inline-flex; align-items: center; gap: 10px; cursor: pointer; border: none;
      border-radius: 12px; padding: 12px 16px; font-weight: 600; color: white;
      background: var(--grad); box-shadow: 0 8px 24px rgba(139,92,246,.35);
      transition: transform .06s ease, filter .2s;
    }
    .btn.secondary {
      background: rgba(255,255,255,.10); color: inherit; box-shadow: none;
      border: 1px solid rgba(255,255,255,.16);
    }
    [data-theme="light"] .btn.secondary { background: rgba(0,0,0,.04); border-color: rgba(0,0,0,.10); }
    .btn:active { transform: translateY(1px); }
    .btn:focus-visible { outline: none; box-shadow: var(--focus); }
    .btn[disabled] { opacity: .6; cursor: not-allowed; }

    .divider { height: 1px; background: rgba(255,255,255,.10); }
    [data-theme="light"] .divider { background: rgba(0,0,0,.06); }

    .results {
      padding: 18px;
      display: grid; gap: 14px;
    }
    .result-grid {
      display: grid; gap: 10px; grid-template-columns: repeat(auto-fit,minmax(120px,1fr));
    }
    .chip {
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: 12px; padding: 16px;
      font-size: 1.4rem; font-weight: 700; text-align: center;
      animation: pop .25s ease;
    }
    [data-theme="light"] .chip { background: rgba(0,0,0,.04); border-color: rgba(0,0,0,.10); }
    .chip.big { font-size: clamp(1.8rem, 6vw, 3rem); padding: 22px; }
    @keyframes pop { from { transform: scale(.96); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    .meta {
      display: flex; flex-wrap: wrap; gap: 10px; align-items: center; justify-content: space-between;
      color: #93a0af; font-size: .92rem;
    }
    .error {
      background: rgba(239,68,68,.15); border: 1px solid rgba(239,68,68,.35);
      color: #fecaca; padding: 10px 12px; border-radius: 10px; display: none;
    }
    [data-theme="light"] .error { color: #7f1d1d; background: #fee2e2; border-color: #fecaca; }

    .history { padding: 18px; }
    .history h3 { margin: 0 0 10px; font-size: 1rem; color: #9aa4b2; }
    .history-list { display: grid; gap: 8px; }
    .history-item {
      display: flex; align-items: center; justify-content: space-between; gap: 10px;
      background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.12);
      border-radius: 10px; padding: 10px 12px; font-size: .95rem;
      overflow: hidden;
      white-space: nowrap; text-overflow: ellipsis;
    }
    [data-theme="light"] .history-item { background: rgba(0,0,0,.04); border-color: rgba(0,0,0,.10); }
    .history-item .s { color: #93a0af; }

    .seo-copy { margin-top: 18px; color: #9aa4b2; font-size: .95rem; padding: 0 4px 8px; }

    .toast {
      position: fixed; left: 50%; bottom: 24px; transform: translateX(-50%) translateY(20px);
      background: rgba(0,0,0,.8); color: white; padding: 10px 14px; border-radius: 10px;
      opacity: 0; transition: opacity .25s, transform .25s; pointer-events: none;
    }
    [data-theme="light"] .toast { background: rgba(0,0,0,.8); }
    .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

    .sr-only {
      position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
    }

    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; animation: none !important; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Rastgele Sayı Üretici</h1>
          <div class="sub">Kriptografik güvenli, mobil ve SEO uyumlu sayı üretimi</div>
        </div>
      </div>
      <button id="themeBtn" class="theme-toggle" aria-label="Tema değiştir (Açık/Koyu)">🌗 Tema</button>
    </header>

    <section class="panel" role="region" aria-labelledby="gen-title">
      <div class="panel-head">
        <div id="gen-title" style="font-weight:600">Ayarlar</div>
        <div class="hint">Tam sayı veya ondalık, tekrarsız, çoklu üretim</div>
      </div>

      <form id="generatorForm" novalidate>
        <div class="grid cols-4">
          <div class="field">
            <label class="label" for="min">Minimum</label>
            <input id="min" name="min" type="number" inputmode="numeric" value="1" step="any" required aria-describedby="min-hint">
            <div id="min-hint" class="sr-only">Minimum değer</div>
          </div>
          <div class="field">
            <label class="label" for="max">Maksimum</label>
            <input id="max" name="max" type="number" inputmode="numeric" value="100" step="any" required aria-describedby="max-hint">
            <div id="max-hint" class="sr-only">Maksimum değer</div>
          </div>
          <div class="field">
            <label class="label" for="count">Adet</label>
            <input id="count" name="count" type="number" inputmode="numeric" value="1" min="1" max="10000" required aria-describedby="count-hint">
            <div id="count-hint" class="sr-only">Üretilecek sayı adedi</div>
          </div>
          <div class="field">
            <label class="label" for="decimals">Ondalık basamak</label>
            <input id="decimals" name="decimals" type="number" inputmode="numeric" value="0" min="0" max="8" required aria-describedby="dec-hint">
            <div id="dec-hint" class="sr-only">0 ise tam sayı, 1-8 arası ondalık basamak</div>
          </div>
        </div>

        <div class="grid" style="margin-top: 10px;">
          <div class="switch">
            <label>
              <input type="checkbox" id="unique" name="unique" />
              <span class="track"><span class="thumb"></span></span>
            </label>
            <span>Tekrarsız üret</span>
          </div>
          <div class="hint">Not: Aralık/adet uygunsuzsa tekrarsız üretim mümkün olmayabilir.</div>
        </div>

        <div class="actions">
          <button type="submit" class="btn" id="generateBtn" aria-label="Rastgele üret">
            <span aria-hidden="true">🎲</span> Üret
          </button>
          <button type="button" class="btn secondary" id="copyBtn" disabled>
            <span aria-hidden="true">📋</span> Kopyala
          </button>
          <button type="button" class="btn secondary" id="shareBtn" disabled>
            <span aria-hidden="true">📤</span> Paylaş
          </button>
        </div>

        <div id="error" class="error" role="alert"></div>
      </form>

      <div class="divider"></div>

      <section class="results" aria-live="polite" aria-atomic="true">
        <div class="meta">
          <div id="summary">Hazır. 1–100 arası 1 sayı için üretmeye hazırım.</div>
          <div id="time"></div>
        </div>
        <div id="result" class="result-grid" aria-label="Sonuçlar"></div>
      </section>

      <div class="divider"></div>

      <section class="history">
        <h3>Son Üretimler</h3>
        <div id="history" class="history-list" aria-live="polite"></div>
      </section>
    </section>

    <div class="seo-copy">
      Bu araç, tarayıcınızın kriptografik rastgelelik motorunu kullanarak (window.crypto) tarafsız ve güvenilir sayılar üretir.
      Tekrarsız seçim, çoklu üretim, tam sayı ve ondalık basamak desteğiyle çekiliş, deneme, test ve simülasyonlar için idealdir.
    </div>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite">Panoya kopyalandı</div>

  <noscript>
    Lütfen JavaScript'i etkinleştirin. Bu araç çalışmak için JavaScript'e ihtiyaç duyar.
  </noscript>

  <script>
    (function(){
      const $ = s => document.querySelector(s);
      const form = $('#generatorForm');
      const minEl = $('#min');
      const maxEl = $('#max');
      const countEl = $('#count');
      const decimalsEl = $('#decimals');
      const uniqueEl = $('#unique');
      const errorEl = $('#error');
      const resultEl = $('#result');
      const summaryEl = $('#summary');
      const timeEl = $('#time');
      const copyBtn = $('#copyBtn');
      const shareBtn = $('#shareBtn');
      const generateBtn = $('#generateBtn');
      const historyEl = $('#history');
      const themeBtn = $('#themeBtn');
      const toastEl = $('#toast');

      // Theme
      const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) document.documentElement.setAttribute('data-theme', savedTheme);
      else if (prefersLight) document.documentElement.setAttribute('data-theme', 'light');

      themeBtn.addEventListener('click', () => {
        const cur = document.documentElement.getAttribute('data-theme') === 'light' ? 'light' : 'dark';
        const next = cur === 'light' ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
      });

      // Utils
      const nf = (decimals=0) => new Intl.NumberFormat('tr-TR', { maximumFractionDigits: decimals, minimumFractionDigits: decimals });
      const showError = (msg) => {
        errorEl.textContent = msg;
        errorEl.style.display = 'block';
        form.scrollIntoView({ behavior: 'smooth', block: 'center' });
      };
      const clearError = () => { errorEl.textContent=''; errorEl.style.display='none'; };

      const nowStr = () => new Date().toLocaleString('tr-TR', { hour12:false });

      // Crypto-strong uniform [0,1)
      function cryptoRandomUnit() {
        if (window.crypto && crypto.getRandomValues) {
          const buf = new Uint32Array(1);
          crypto.getRandomValues(buf);
          // 2^32 = 4294967296
          return buf[0] / 4294967296;
        }
        return Math.random();
      }

      // Crypto-strong integer in [min, max] inclusive without modulo bias
      function cryptoRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        if (min > max) [min, max] = [max, min];
        const range = max - min + 1;
        if (range <= 1) return min;
        if (!(window.crypto && crypto.getRandomValues)) {
          return Math.floor(Math.random() * range) + min;
        }
        const maxUint = 0x100000000; // 2^32
        const limit = Math.floor(maxUint / range) * range;
        const buf = new Uint32Array(1);
        let x;
        do {
          crypto.getRandomValues(buf);
          x = buf[0];
        } while (x >= limit);
        return min + (x % range);
      }

      // Generate numbers
      function generateNumbers({min, max, count, decimals, unique}) {
        const res = [];
        decimals = Math.max(0, Math.min(8, Math.floor(decimals || 0)));
        if (decimals === 0) {
          // Integer mode
          const imin = Math.ceil(min);
          const imax = Math.floor(max);
          const rangeCount = imax - imin + 1;
          if (imin > imax) return { error: 'Minimum, maksimumdan büyük olamaz.' };
          if (unique && count > rangeCount) {
            return { error: `Tekrarsız üretim için aralık yetersiz. En fazla ${rangeCount} farklı değer üretilebilir.` };
          }
          if (!unique) {
            for (let i=0;i<count;i++) res.push(cryptoRandomInt(imin, imax));
          } else {
            const used = new Set();
            while (res.length < count) {
              const v = cryptoRandomInt(imin, imax);
              if (!used.has(v)) { used.add(v); res.push(v); }
            }
          }
          return { values: res, decimals: 0 };
        } else {
          // Decimal mode via scaling to integer grid to ensure uniqueness and uniformity across discrete points
          const scale = Math.pow(10, decimals);
          const minScaled = Math.ceil(min * scale);
          const maxScaled = Math.floor(max * scale);
          if (minScaled > maxScaled) return { error: 'Verilen ondalık basamakla bu aralıkta sayılar temsil edilemiyor. Ondalık basamak sayısını azaltın veya aralığı genişletin.' };
          const rangeCount = maxScaled - minScaled + 1;
          if (unique && count > rangeCount) {
            return { error: `Tekrarsız üretim için aralık yetersiz. En fazla ${rangeCount} farklı değer üretilebilir.` };
          }
          if (!unique) {
            for (let i=0;i<count;i++) {
              const s = cryptoRandomInt(minScaled, maxScaled);
              res.push(s / scale);
            }
          } else {
            const used = new Set();
            while (res.length < count) {
              const s = cryptoRandomInt(minScaled, maxScaled);
              if (!used.has(s)) { used.add(s); res.push(s / scale); }
            }
          }
          return { values: res, decimals };
        }
      }

      // History
      const HIST_KEY = 'rng_history_v1';
      function loadHistory() {
        try { return JSON.parse(localStorage.getItem(HIST_KEY) || '[]'); } catch(e) { return []; }
      }
      function saveHistory(items) {
        localStorage.setItem(HIST_KEY, JSON.stringify(items.slice(0, 10)));
      }
      function addHistory(entry) {
        const items = loadHistory();
        items.unshift(entry);
        saveHistory(items);
        renderHistory();
      }
      function renderHistory() {
        const items = loadHistory();
        historyEl.innerHTML = '';
        if (!items.length) {
          historyEl.innerHTML = '<div class="hint">Henüz bir üretim yok.</div>';
          return;
        }
        for (const it of items) {
          const div = document.createElement('div');
          div.className = 'history-item';
          const settings = `min:${it.min} max:${it.max} adet:${it.count} ondalık:${it.decimals}${it.unique ? ' tekrarsız' : ''}`;
          const nums = it.values.join(', ');
          div.innerHTML = `<span class="s">${it.time}</span><span title="${nums}">${nums}</span>`;
          div.setAttribute('aria-label', `Tarih ${it.time}, ayarlar ${settings}, sonuçlar ${nums}`);
          historyEl.appendChild(div);
        }
      }

      // Copy / Share / Toast
      function showToast(msg) {
        toastEl.textContent = msg;
        toastEl.classList.add('show');
        setTimeout(() => toastEl.classList.remove('show'), 1500);
      }
      copyBtn.addEventListener('click', async () => {
        const text = getResultText();
        if (!text) return;
        try {
          await navigator.clipboard.writeText(text);
          showToast('Panoya kopyalandı');
        } catch {
          const ta = document.createElement('textarea');
          ta.value = text; document.body.appendChild(ta);
          ta.select(); document.execCommand('copy'); ta.remove();
          showToast('Panoya kopyalandı');
        }
      });
      shareBtn.addEventListener('click', async () => {
        const text = getResultText();
        if (!text) return;
        const title = 'Rastgele Sayılar';
        if (navigator.share) {
          try {
            await navigator.share({ title, text });
          } catch (e) { /* kullanıcı iptal edebilir */ }
        } else {
          try {
            await navigator.clipboard.writeText(text);
            showToast('Paylaşım için kopyalandı');
          } catch {
            showToast('Paylaşım desteklenmiyor');
          }
        }
      });
      function getResultText() {
        const chips = Array.from(resultEl.querySelectorAll('.chip')).map(c => c.dataset.raw);
        return chips.join(', ');
      }

      // Summary text
      function updateSummary() {
        const min = Number(minEl.value);
        const max = Number(maxEl.value);
        const count = Math.max(1, Number(countEl.value));
        const decimals = Math.max(0, Number(decimalsEl.value|0));
        const uniq = uniqueEl.checked ? 'tekrarsız ' : '';
        summaryEl.textContent = `${nf().format(min)}–${nf().format(max)} arası ${uniq}${count} ${decimals ? `${decimals} ondalık basamaklı` : 'tam sayı'} üretecek.`;
      }

      // Form submit
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        clearError();

        let min = Number(minEl.value);
        let max = Number(maxEl.value);
        let count = Math.max(1, Math.min(10000, Number(countEl.value)));
        let decimals = Math.max(0, Math.min(8, Number(decimalsEl.value)));
        const unique = uniqueEl.checked;

        if (Number.isNaN(min) || Number.isNaN(max) || Number.isNaN(count) || Number.isNaN(decimals)) {
          showError('Lütfen geçerli sayı değerleri girin.');
          return;
        }
        if (min > max) {
          // Otomatik düzeltme + bilgilendirme
          [min, max] = [max, min];
          minEl.value = min; maxEl.value = max;
          showToast('Minimum ve maksimum yer değiştirdi');
        }
        countEl.value = count;
        decimalsEl.value = decimals;

        const { values, error, decimals: outDec } = generateNumbers({ min, max, count, decimals, unique });
        if (error) {
          showError(error);
          resultEl.innerHTML = '';
          copyBtn.disabled = true;
          shareBtn.disabled = true;
          return;
        }

        // Render results
        resultEl.innerHTML = '';
        const fmt = nf(outDec);
        values.forEach((v, i) => {
          const div = document.createElement('div');
          div.className = 'chip' + (values.length === 1 ? ' big' : '');
          div.textContent = fmt.format(v);
          div.dataset.raw = v.toFixed(outDec);
          resultEl.appendChild(div);
        });
        copyBtn.disabled = false;
        shareBtn.disabled = false;
        timeEl.textContent = nowStr();

        // Focus to results for a11y
        const firstChip = resultEl.querySelector('.chip');
        if (firstChip) firstChip.setAttribute('tabindex','-1'), firstChip.focus({ preventScroll: true });

        // History
        addHistory({ time: nowStr(), min, max, count, decimals: outDec, unique, values: values.map(v => v.toFixed(outDec)) });

        updateSummary();
      });

      // Live updates to summary
      [minEl, maxEl, countEl, decimalsEl, uniqueEl].forEach(el => el.addEventListener('input', updateSummary));

      // Initial render
      renderHistory();
      updateSummary();

      // Generate initial default result for better UX and SEO
      setTimeout(() => {
        form.dispatchEvent(new Event('submit', { cancelable: true, bubbles: true }));
      }, 100);
    })();
  </script>
</body>
</html>